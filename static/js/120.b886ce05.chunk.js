"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[120],{8120:function(e,s,o){o.r(s),o.d(s,{default:function(){return L}});var t=o(2791),r=o(8687),n=o(1573),i=o(4788),a=o(6407),l=o(20),c=o(5600),u=o(4667),f=o(1413),m=o(9195),d="Form_form__R+k8y",p="Form_formSection__dItYe",h="Form__avatar__76MqO",x="Form__desc__d88G7",g="Form_formBlock__tIJSh",j="Form_checkbox__vnAeI",b="Form_blockBtns__X0oOA",_="Form_button__x0S3s",v=o(9645),k=o(7899),N=o(184),Z=function(e){var s,o={fullName:e.profile.fullName?e.profile.fullName:"",aboutMe:e.profile.aboutMe?e.profile.aboutMe:"",status:e.status?e.status:"",isLookingForAJob:!!e.profile.lookingForAJob&&e.profile.lookingForAJob,skills:e.profile.lookingForAJobDescription?e.profile.lookingForAJobDescription:"",contacts:(0,f.Z)({},e.profile.contacts)},r=(0,m.cI)({mode:"onBlur",defaultValues:(0,t.useMemo)((function(){return o}),[e.profile,e.status])}),n=r.handleSubmit,i=r.register,a=r.control,l=r.reset,c=r.getValues,u=r.formState.errors,Z=(0,m.cl)({control:a}).isDirty;(0,t.useEffect)((function(){l(c())}),[e.profile,e.status]);var A=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return(0,N.jsxs)("form",{className:"".concat(d),onSubmit:n((function(s){e.saveProfile({fullName:s.fullName,aboutMe:s.aboutMe,lookingForAJob:s.isLookingForAJob,lookingForAJobDescription:s.skills,contacts:(0,f.Z)({},e.profile.contacts)}),e.updateStatus(s.status)})),children:[(0,N.jsxs)("div",{className:"".concat(p," ").concat(h),children:[(0,N.jsxs)("div",{className:g,children:["Avatar",(0,N.jsx)("img",{src:null!==(s=e.profile.photos)&&void 0!==s&&s.large?e.profile.photos.large:k,alt:""}),(0,N.jsxs)("div",{className:g,children:["Choose photo ",(0,N.jsx)("input",(0,f.Z)((0,f.Z)({},i("photo")),{},{type:"file",accept:"image/jpeg, image/png"}))]})]}),(0,N.jsxs)("div",{className:g,children:["id: ",(0,N.jsxs)("span",{children:[e.profile.userId,(0,N.jsx)("i",{children:" (immutable)"})]})]})]}),(0,N.jsxs)("div",{className:"".concat(p," ").concat(x),children:[(0,N.jsxs)("div",{className:g,children:["Full name",(0,N.jsx)("input",(0,f.Z)((0,f.Z)({},i("fullName",{required:"full name field is required!",maxLength:{value:50,message:"job description field max length is 50"}})),{},{type:"text",placeholder:"Full name"})),(0,N.jsx)("div",{className:"".concat(v.Z.error," ").concat(u.fullName&&v.Z.showTop),children:(0,N.jsx)("span",{children:u.fullName&&u.fullName.message})})]}),(0,N.jsxs)("div",{className:g,children:["About me",(0,N.jsx)("input",(0,f.Z)((0,f.Z)({},i("aboutMe",{maxLength:{value:1e3,message:"job description field max length is 1000"}})),{},{type:"text",placeholder:"About me"})),(0,N.jsx)("div",{className:"".concat(v.Z.error," ").concat(u.aboutMe&&v.Z.showTop),children:(0,N.jsx)("span",{children:u.aboutMe&&u.aboutMe.message})})]}),(0,N.jsxs)("div",{className:g,children:["Status",(0,N.jsx)("input",(0,f.Z)((0,f.Z)({},i("status",{maxLength:{value:300,message:"job description field max length is 300"}})),{},{type:"text",placeholder:"Status"})),(0,N.jsx)("div",{className:"".concat(v.Z.error," ").concat(u.status&&v.Z.showTop),children:(0,N.jsx)("span",{children:u.status&&u.status.message})})]}),(0,N.jsx)("div",{className:g,children:(0,N.jsxs)("label",{children:[(0,N.jsx)("input",(0,f.Z)((0,f.Z)({},i("isLookingForAJob")),{},{className:j,name:"isLookingForAJob",type:"checkbox",style:{marginRight:"1rem"}})),"Looking for a job"]})}),(0,N.jsxs)("div",{className:g,children:[(0,N.jsxs)("label",{children:["Skills",(0,N.jsx)("input",(0,f.Z)((0,f.Z)({},i("skills",{maxLength:{value:300,message:"job description field max length is 300"}})),{},{type:"text",placeholder:"Your skills"}))]}),(0,N.jsx)("div",{className:"".concat(v.Z.error," ").concat(u.skills&&v.Z.showTop),children:(0,N.jsx)("span",{children:u.skills&&u.skills.message})})]}),Object.keys(e.profile.contacts).map((function(e){return(0,N.jsx)("div",{className:g,children:(0,N.jsxs)("label",{children:[(0,N.jsx)("span",{style:{textTransform:"capitalize"},children:"mainLink"===e?"Main":A(e)}),(0,N.jsx)("input",(0,f.Z)((0,f.Z)({},i("contacts.".concat(e))),{},{type:"text",placeholder:"".concat("mainLink"===e?"Main":A(e)," link")}))]})},e)})),0!==e.messages.length&&(0,N.jsx)("div",{className:v.Z.formError,children:e.messages.map((function(e,s){return(0,N.jsx)("p",{children:e},s)}))}),(0,N.jsx)("div",{className:"".concat(g," ").concat(b),children:Z?(0,N.jsx)("button",{className:_,type:"submit",children:"Save"}):(0,N.jsx)("button",{className:_,disabled:!0,type:"submit",children:"Save"})})]})]})},A=(0,t.memo)(Z),F="ProfileSettings_section__71WlR",S="ProfileSettings_title__bMAHy",y=function(){var e=(0,i.W)().checkIfAuth;(0,t.useEffect)((function(){e()}),[]);var s=(0,n.i)(c.$B),o=(0,n.i)(l.Ai),f=(0,n.i)(l.lR),m=(0,n.i)(l.EB),d=(0,r.I0)();return(0,t.useEffect)((function(){(null===o||void 0===o?void 0:o.userId)!==s&&d((0,a.$6)(s))}),[]),o&&f?(0,N.jsxs)("section",{className:F,children:[(0,N.jsx)("h1",{className:S,children:"Profile Settings"}),(0,N.jsx)(A,{id:s,profile:o,status:f,messages:m,updateStatus:function(e){return d((0,a.dw)(e))},savePhoto:function(e){return d((0,a.zL)(e))},saveProfile:function(e){return d((0,a.c$)(e))}})]}):(0,N.jsx)(u.Z,{})},L=(0,t.memo)(y)},4788:function(e,s,o){o.d(s,{W:function(){return i}});var t=o(6871),r=o(1573),n=o(5600),i=function(){var e=(0,t.s0)(),s=(0,r.i)(n.$B);return{checkIfAuth:function(){null===s&&e("/login")}}}},1573:function(e,s,o){o.d(s,{i:function(){return t}});var t=o(8687).v9},20:function(e,s,o){o.d(s,{Ai:function(){return t},EB:function(){return i},Jq:function(){return n},lR:function(){return r}});var t=function(e){return e.profilePage.profile},r=function(e){return e.profilePage.status},n=function(e){return e.profilePage.posts},i=function(e){return e.errors.profileErrors.messages}},9645:function(e,s){s.Z={error:"errors_error__ax-p2",show:"errors_show__p2dN5",showTop:"errors_showTop__uRXa+",formError:"errors_formError__LdLkJ"}},7899:function(e,s,o){e.exports=o.p+"static/media/blank-profile-picture.4a33880eba1cfcca5feb.webp"}}]);
//# sourceMappingURL=120.b886ce05.chunk.js.map